# Getting Started with Create React App

задача реализованна следующим способои (общее):

1. Использован "react-router-dom" для постраничного вывода рендера, всего использованно две страници: path="/"  - это главная страница с инпутом, сортировками и загрузкой данных
 path="/book" - для просмотра выбранного компонента

2. В качестве стейта стостояния использован redux toolkit который написан стандартно, как пример (был использован Quick Start из документации Redux Toolkit) за исключением нескольких моментов
@1 в файле bookSlice.ts к стандартному слайсу добавленн createAsyncThunk для ассинхронной загрузки данных
@2 в файле bookSlice.ts к функции createSlice добавленны extraReducers которые обрабатывают данные на наличее ошибки с сервера, а так же времени загрузки данных
@3 в файле reduxHooks.ts  написанна функция useActions() которая упрощает dispatch, представим что в bookSlice.ts имеется какой то reducer с названием "redusrtFunc", что бы его вызвать нужно  в компоненте написать следующее: const {redusrtFunc} = useActions(), далее можно вызывать redusrtFunc()
@4 вызов initialState из redux реализован следующим образом: вначале в файле создается функция selectBook в которой хранися  initialState, затем эта функция экспротрируеся и в компоненте нужные поля из initialState извлекаются при помощи useSelector. const {milk, meat} = useSelector(selectBook)

3. Ассинхронные запросы  реализованна в Redux при помощи createAsyncThunk ошибки обрабатываюся в extraReducers (в Redux) 

4. при загрузке данных, что бы показать что данные загружаются вместо простого spiner используется react-content-loader( мерцающие квадратики примерно такие же как на youtube  при загрузке) 






Файловая структура: в папке src находятся главный вайл index.tsx в котором <App /> обёрнут в HashRouter вместо BrowserRouter это сделанно чтолько для того что бы приложение корректно отображалось на gitHub

1. в App.tsx находится роутинг состоящий главным образом из двух путей это гавная страница и страница для выбранной книги
первой загрузится конечно же главная path="/" на страницу с path="/book" можно попасть только при клике на книгу при условии что она отобразится на экране

в App.tsx находится useClosePopUpByScroll() - его задача закрывать выдвигающееся меню сортировки и фильтрации при скроле


2. в Main.tsx находятся два блока, один с className='App__fixedPositionField' и BookFields. 'App__fixedPositionField' - это неподвижный элемент в котором находися инпут, сортировка и фильтрация. BookFields это контейнер для результата поиска книг, в котором отображаются книги а так же ошибки

в Main.tsx находится checkClosestParant() -его задача закрывать выдвигающееся меню сортировки и фильтрации при клике на любую зону экрана за исключением выбранных зон(в которую входят сортировка и фильтрация)

3. В 'App__fixedPositionField' в SearchFields находятся  фильтр и сортировка и колличкство найденных элементов. фильтр и сортировка представляют собой елемент <Filter> которы принимает пропсы,конкретный набор пропсов определяет чем будет являться  Filter. так же Filter принимает children <PopUpFilter>. PopUpFilter - является выдвигающимся меню для сотрировки или фильтрации

4. один из пропсов PopUpFilter это category, category это массив из обьектов каждый обьект имент поле с именем и значением,
имя нужно для отображения типа фильтрации а значение применяется для асинхронных запросов
в переменную sortCathegory попадают элеменны имена которых не совпадают с выбранными, таким образом если выбрать категорию "all" она не отобразится в выдвигающемся меню сортировки
в PopUpFilter другой из пропсов это func(), func() меняет значение фильтрации или сортировки при клике на выбранное имя в выдвижном меню

5. SearchField это поле инпута и кнопка отправления. Запрос отправляется при нажатии на Enter или клике на кнопку
fetchUserById() это функция отправляющая запрос. Аргументом функция принимает обьект состоящий из значения сортировки и данных ввода


6. BookFields это компонент в котором отображаются найденные книги и ошибки. Он состоит из:
<Skelets /> - отображаются при загрузке
<ErrorMessage /> - отображается при ошибке сервера
<div className='BookFields__greeting'> Enter value </div> - стартовое состояние
<Books /> - отоброжается если ошибок сервера нет и запрос был.
<LoadMore> - отоброжается если колличество найденных элементов больше чем колличество отрендеренных

7. Books это компонент в котором отображаются найденные книги. Он состоит из:
переменной filteredBooks, в которой отображаются отфильтрованные переменные удовлетворяющие результату поиска по категории

<NoBooks /> - отобразится если результат поиска равен нулю
filteredBooks.map отообазит найденные книги


8. LittleBookItem это компонент в котором отображаются информация о книге. Он состоит из:
className='littleBookItem' это ограничиваюший контейнер имеющий строгие размеры
<Link> это контейнер в информацией о книге, он не имеет строгой высоты и его высота определяется динамическим заполнением

если высота <Link> выходит из контейнера className='littleBookItem' то показывается компонент <ShowMore>
useIsContaiterOver() это функция которая определяет нужно ли рендерить <ShowMore> или нет

9. <Link> - это ещё и ссылка на страницу to="/book", описанную выше.
Link передает props item в котором хранится вся информация о книге
Link состоит из:
<Image> - картинка
<Title> - название
<Author> - авторы
<Cathegory> - категория

если какой то информации нет картинки или автора, то вместо них выводится "значёк" нет картинки или "название" нет автора









